# 📝InCourseBE(실전 프로젝트)   
GitHub: https://github.com/InCourseProject/in-course-be

📌 프로젝트 소개
------------- 
인코스 - 인싸들의 데이트, 친목, 모임 코스.    
데이트, 친목, 모임 등 목적과 그날의 날씨에 맞게 일정을 추천하는 사이트입니다.

:date: 제작 기간
-------------   
2022.09.16 ~ 2022.10.28 

:family: 팀 멤버 소개 & 담당 기능 구현
-------------   
|이름|포지션|담당 기능 구현|
|------|---|---|
|김동훈|BE|메인페이지, 장소CRUD 기능 구현, 서버 배포, GitGub, ERD 관리 등|
|마지우|BE|회원가입, 로그인(JWT, 카카오, 네이버, 이메일 인증), 마이페이지 기능 구현 날씨 API 등|
|김하늘|BE|이미지 업로드(s3), 코스CRUD, 찜하기, 코스 평가점수, 카테고리 조회, 검색 기능 구현|
|김대현|FE|회원가입, 로그인, 코스 찜하기, 코스 평가 점수 기능 구현 등|
|이희수|FE|코스CRUD, 장소CRUD, 지도 API, 마이페이지 조회 기능 구현 등|

:computer: 프로젝트 주요 기능
-------------  
### 1) 메인페이지: 날씨를 기반으로 오늘의 코스 추천   
   
### 2) 회원가입: 이메일 인증을 통한 회원가입, 카카오/네이버를 통한 회원가입
    
### 3) 로그인 페이지: jwt, 카카오, 네이버 로그인
  
### 4) 장소(카드) 작성 페이지: 카드 작성 및 이미지 업로드   
   
### 5) 코스(게시글) 작성 페이지: 코스 작성 및 이미지 업로드 
    
### 6) 코스(게시글) 수정 페이지: 코스 수정    
 
### 7) 코스(게시글) 찜하기: 코스 찜하기  

### 8) 코스(게시글) 점수 주기: 코스 평점  

### 9) 검색 기능   

### 10) 마이페이지: 내가 쓴 글 조회, 내가 찜한 코스 조회      
   

:green_book: 와이어프레임
------------- 
<img src="https://user-images.githubusercontent.com/110077343/194228885-47af482a-5ab7-4dc7-aa79-4c0b2cdf06ba.png"></img><br/> 
<img src="https://user-images.githubusercontent.com/110077343/194229015-aa30c001-e99c-42e9-8c27-621d6b81d1d0.png"></img><br/>  
<img src="https://user-images.githubusercontent.com/110077343/194229116-226d747d-f463-43ee-87b9-31a6c3497142.png"></img><br/>  
<img src="https://user-images.githubusercontent.com/110077343/194229157-00f698b1-3036-4892-a880-41118112b11e.png"></img><br/>  

:blue_book: ERD
-------------
<img src="https://user-images.githubusercontent.com/110077343/194233246-3978d326-b55e-4cfc-89e4-17028565e967.png"></img><br/>  

:orange_book: API
------------- 
노션: https://www.notion.so/7-3dede89212784077a5097e8873d86bde#5b8632e055b84e0b990ff1d765e71d2f

:construction_worker: 기술 스택 & Tools
------------- 
협업 Tools       
<img src="https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=Notion&logoColor=white">
<img src="https://img.shields.io/badge/Google Sheets-34A853?style=for-the-badge&logo=Google Sheets&logoColor=white">
<img src="https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=Git&logoColor=white">
<img src="https://img.shields.io/badge/GitHub-181717?style=for-the-badge&logo=GitHub&logoColor=white">
<img src="https://img.shields.io/badge/Sourcetree-0052CC?style=for-the-badge&logo=Sourcetree&logoColor=white">     

Backend   
<img src="https://img.shields.io/badge/Java11-007396?style=for-the-badge&logo=Java11&logoColor=white">
<img src="https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=Spring&logoColor=white">
<img src="https://img.shields.io/badge/Spring Boot-6DB33F?style=for-the-badge&logo=Spring Boot&logoColor=white">
<img src="https://img.shields.io/badge/Spring Security-6DB33F?style=for-the-badge&logo=Spring Security&logoColor=white">
<img src="https://img.shields.io/badge/JSON Web Tokens-000000?style=for-the-badge&logo=JSON Web Tokens&logoColor=white">  
<img src="https://img.shields.io/badge/Amazon EC2-FF9900?style=for-the-badge&logo=Amazon EC2&logoColor=white">
<img src="https://img.shields.io/badge/Ubuntu-E95420?style=for-the-badge&logo=Ubuntu&logoColor=white">
<img src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&logo=Amazon S3&logoColor=white">
<img src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&logo=MySQL&logoColor=white"> 
<img src="https://img.shields.io/badge/IntelliJ IDEA-000000?style=for-the-badge&logo=IntelliJ IDEA&logoColor=white"> 
<img src="https://img.shields.io/badge/Postman-FF6C37?style=for-the-badge&logo=Postman&logoColor=white"> 


Frontend    
<img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=white">
<img src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white">
<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white">
<img src="https://img.shields.io/badge/Redux-764ABC?style=for-the-badge&logo=Redux&logoColor=white">
<img src="https://img.shields.io/badge/React Router-CA4245?style=for-the-badge&logo=React Router&logoColor=white">


:rage: Trouble Shooting(업뎃 예정)
------------- 
BE  
1) jpa를 이용하여 joincolumn 생성 시 에러 발생, spring.jpa.hibernate.ddl-auto=update를 작성하여 기존의 스키마를 유지하며 JPA에 의해 변경된 부분만 추가하도록 설정하여 에러 해결   
2) 코스 조회, 검색, 카테고리 조회 등의 모든 조회 기능 응답에서 에러 발생, 추가 컬럼에 NOT NULL 설정을 했고 기존에 저장되어 있는 데이터에 해당 컬럼이 null값이기 때문에 발생한 것으로 기존 데이터에 추가 컬럼값을 임의로 넣어주어 에러 해결   
3) 네이버, 카카오 로그인과 같이 api를 통해 소셜 로그인 시 백, 프론트에서 각각 작동하나 연결 후 작동이 되지 않는 오류 발생, 소셜 로그인 시 사용되는 key, id등이 프론트의 값들을 받아와 서로 값을 맞춰야 작동 한다는 것을 인지, 카카오의 경우 key값만 맞춰도 잘 작동하였으나 네이버는 요청 uri에 state가 추가적으로 들어가야 작동한 다는 것을 인지하였고 uri 및 키 값들 요구사항을 다 맞추며 해결    
4) 최근 게시물을 나타내주는 newPost값의 ColumnDefault("true")디폴트를 true로 설정하고 스케줄러로 일주일이 지나면 false로 바꾸어, 최근 게시물을 알아볼수 있게 기능 개발하였고 게시물을 생성할 때 디폴트값인 true가 아닌 false로 생성됨 @ColumnDefault("true")은 값이 null일때 true로 바꿔주는 기능이었음 newPost값 자체를 바꿔서 해결   
   
FE  
1) 게시물 작성 카드 추가시 새로고침으로 인한 데이터 사라짐 현상 (이미지) localstorge 에 저장 했지만 localstorge는 string만 저장 가능 하다는 것을 인지하였고, 카드 작성 버튼 클릭시 localStorage 에 filebase64 형태로 저장, useEffect때 getItem 으로 불러온 뒤 setState에 다시 넣어주고 데이터를 보낼 때 blob으로 file형태 변환 후 폼데이터로 묶어서 보내주어 해결 
2) 상세게시물에 map 함수를 사용 할 때 map 함수를 읽을 수 없다 라는 오류가 생김, get 요청을 useEffect시 실행 하는데 렌더링이 되기 전에 map함수가 먼저 작동되어 배열이 undefined 상태라 오류가 생기는것을 인지하였고 처음에 ‘?’로 예외처리를 해주었지만 initialState 기본값을 넣어주어 해결      
